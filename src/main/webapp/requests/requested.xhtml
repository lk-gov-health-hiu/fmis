<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./../template.xhtml">

            <ui:define name="title">
                Request Details
            </ui:define>

            <ui:define name="content">
                <div class="container" >
                    <h:form >
                        <div class="row" >
                            <div class="col-md-12" >
                                <div class="card" >
                                    <div class="card-header" >
                                        <h2><h:outputText value="Fuel Request Details"></h:outputText></h2>
                                    </div>
                                    <div class="card-body" >


                                        <div class="card-body">

                                            <!-- Request Details -->
                                            <p:panel header="Request Details" styleClass="box">
                                                <p><b>ID:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.id}"/></p>
                                                <p><b>Requested Institution:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.requestedInstitution.name}"/></p>
                                                <p><b>Vehicle:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.vehicle.vehicleNumber}"/></p>
                                                <p><b>Request Quantity:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.requestQuantity}"/></p>
                                                <p><b>Comments:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.comments}"/></p>
                                                <p><b>Requested By:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.requestedBy.person.name}"/></p>
                                                <p><b>Requested At:</b> 
                                                    <h:outputText value="#{fuelRequestAndIssueController.selected.requestAt}">
                                                        <f:convertDateTime pattern="dd MMMM yyyy hh:mm a" ></f:convertDateTime>
                                                    </h:outputText>
                                                </p>
                                            </p:panel>

                                            <!-- Issue Details -->
                                            <p:panel header="Issue Details" styleClass="box">
                                                <p:outputPanel rendered="#{fuelRequestAndIssueController.selected.issued}">
                                                    <p><b>Issued Quantity:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.issuedQuantity}"/></p>
                                                    <p><b>Issued Institution:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.issuedInstitution.name}"/></p>
                                                    <p><b>Issued By:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.issuedUser.person.name}"/></p>
                                                    <p><b>Issued At:</b> 
                                                        <h:outputText value="#{fuelRequestAndIssueController.selected.issuedAt}">
                                                            <f:convertDateTime pattern="dd MMMM yyyy hh:mm a" ></f:convertDateTime>
                                                        </h:outputText>
                                                    </p>
                                                </p:outputPanel>
                                                <p:outputPanel rendered="#{!fuelRequestAndIssueController.selected.issued}">
                                                    <h2 class="text-danger">Not issued yet</h2>
                                                </p:outputPanel>
                                            </p:panel>








                                            <!-- Rejection Details -->
                                            <p:panel header="Rejection Details" styleClass="box">
                                                <p:outputPanel rendered="#{fuelRequestAndIssueController.selected.rejected}">
                                                    <p><b>Rejected By:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.rejectedBy.person.name}"/></p>
                                                    <p><b>Rejection Time:</b> 
                                                        <h:outputText value="#{fuelRequestAndIssueController.selected.rejectedAt}">
                                                            <f:convertDateTime pattern="dd MMMM yyyy hh:mm a" ></f:convertDateTime>
                                                        </h:outputText>
                                                    </p>
                                                    <p><b>Rejection Institution:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.rejectedInstitution.name}"/></p>
                                                    <p><b>Rejection Comments:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.rejectedComments}"/></p>
                                                </p:outputPanel>
                                                <p:outputPanel rendered="#{!fuelRequestAndIssueController.selected.rejected}">
                                                    <h2 class="text-danger">Not rejected</h2>
                                                </p:outputPanel>
                                            </p:panel>

                                            <!-- Cancellation Details -->
                                            <p:panel header="Cancellation Details" styleClass="box">
                                                <p:outputPanel rendered="#{fuelRequestAndIssueController.selected.cancelled}">
                                                    <p><b>Cancelled By:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.cancelledBy.person.name}"/></p>
                                                    <p><b>Cancellation Time:</b> 
                                                        <h:outputText value="#{fuelRequestAndIssueController.selected.cancelledAt}">
                                                            <f:convertDateTime pattern="dd MMMM yyyy hh:mm a" ></f:convertDateTime>
                                                        </h:outputText>
                                                    </p>
                                                    <p><b>Cancellation Institution:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.cancelledInstitution.name}"/></p>
                                                    <p><b>Cancellation Comments:</b> <h:outputText value="#{fuelRequestAndIssueController.selected.cancellationComments}"/></p>
                                                </p:outputPanel>
                                                <p:outputPanel rendered="#{!fuelRequestAndIssueController.selected.cancelled}">
                                                    <h2 class="text-danger">Not cancelled</h2>
                                                </p:outputPanel>
                                            </p:panel>



                                        </div>




                                    </div>



                                    <div class="card-footer" >
                                        <h:commandButton  value="Add New Request" 
                                                          class="btn btn-primary"
                                                          action="#{fuelRequestAndIssueController.navigateToAddRequest()}"
                                                          >
                                        </h:commandButton>
                                        <h:commandButton  value="View Requests" 
                                                          class="btn btn-primary"
                                                          action="#{fuelRequestAndIssueController.navigateToListInstitutionRequests()}"
                                                          >
                                        </h:commandButton>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </h:form>
                </div>

            </ui:define>



        </ui:composition>

    </body>
</html>
